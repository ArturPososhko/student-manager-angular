<h1>Lista studentów</h1>

<div>
    <button class="btn btn-primary" [disabled]="isDataSearching" (click)="search()">
        <span *ngIf="isDataSearching" class="spinner-border spinner-border-sm" aria-hidden="true"></span>
        {{btnTitle}}
    </button>
</div>

<p *ngIf="isErrorOccured" style="font-size: 10px; color: rgb(178, 0, 0);">Wystąpił błąd!</p>

<table class="table table-striped table-hover">
    <thead>
        <tr>
            <th>ID</th>
            <th>Imię i nazwisko</th>
            <th>Email</th>
            <th>Operacje</th>
        </tr>
    </thead>
    <tbody *ngIf="isLoaded == true">
        <tr [ngClass]="{'table-warning': student.id > 7, 'table-danger': student.name == 'Chelsey Dietrich'}" *ngFor="let student of students">
            <td>{{student.id}}</td>
            <td>{{student.name | uppercase}}</td>
            <td>{{student.email | lowercase}}</td>
            <td><button (click)="delete(student.id)" type="button" class="btn btn-outline-danger">Usuń</button></td>
        </tr>
    </tbody>
</table>

<ng-container *ngIf="isLoaded">
    <div *ngFor="let student of students">
        <h4>{{student.name}}</h4>
        <p>{{student.email}}</p>
    </div>
</ng-container>
